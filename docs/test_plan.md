# Test Plan: Проверка привилегии SELECT (Firebird 5.0)

## Цель
Убедиться, что SQL-привилегия **SELECT** корректно управляет доступом к данным таблиц в Firebird 5.0.

## Объект тестирования
- Таблицы пользовательской базы данных.
- Пользователи с разными наборами привилегий.
- Привилегия `GRANT SELECT` и её отзыв `REVOKE SELECT`.

## Тестовые кейсы

| ID  | Предусловие | Действия | Ожидаемый результат |
|-----|-------------|----------|---------------------|
| TC1 | Создан пользователь **U1**, таблица **T1** с данными. Привилегии не назначены. | Подключение к БД от имени **U1** и выполнение `SELECT * FROM T1`. | Ошибка: отсутствует доступ (privilege not granted). |
| TC2 | Администратор выполняет `GRANT SELECT ON T1 TO U1`. | Подключение к БД от имени **U1**, выполнение `SELECT * FROM T1`. | Запрос выполняется успешно, данные возвращаются. |
| TC3 | Пользователь **U1** имеет привилегию SELECT на таблицу **T1**. | Администратор выполняет `REVOKE SELECT ON T1 FROM U1`. После этого **U1** снова выполняет `SELECT * FROM T1`. | Ошибка: отсутствует доступ. |
| TC4 | Администратор выполняет `REVOKE SELECT ON T1 FROM U1`, когда у пользователя **U1** есть привилегия SELECT. Затем выполняет тот же `REVOKE` повторно. | 1. Первый `REVOKE SELECT ON T1 FROM U1`. <br>2. Второй `REVOKE SELECT ON T1 FROM U1`. | 1. Привилегия успешно отозвана. <br>2. Запрос выполняется без ошибки, но будет предупреждение.|
| TC5 | Пользователь **U2** получает привилегию через роль: `GRANT SELECT ON T1 TO ROLE r1`; `GRANT r1 TO U2`. | Подключение к БД от имени **U2** с активированной ролью `r1`. Выполнение `SELECT * FROM T1`. | Успешное выполнение, данные возвращаются. |
| TC6 | Условия как в TC5, но **U2** подключается без роли `r1`. | `SELECT * FROM T1`. | Ошибка: отсутствует доступ. |
| TC7 | Создана представление **V1** над таблицей **T1**. Привилегия SELECT дана только на **V1**. | Пользователь **U3** выполняет: <br>1. `SELECT * FROM V1` <br>2. `SELECT * FROM T1` | 1. Успешное выполнение. <br>2. Ошибка доступа. |
| TC8 | Проверка передачи привилегий: администратор делает `GRANT SELECT ON T1 TO U1 WITH GRANT OPTION`. | Пользователь **U1** выдает привилегию SELECT пользователю **U4**. **U4** выполняет `SELECT * FROM T1`. | **U4** успешно выполняет SELECT. |
